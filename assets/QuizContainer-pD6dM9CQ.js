import{u as A,a as k,s as y,r as m,c as I,b as a,d as S,e as d,o as l,f as b,g as p,h as B,t as N,i as s,w as q}from"./index-CbXyQQh8.js";const U={class:"quiz-container"},D={class:"text-center text-3xl font-bold dark:text-white"},E={key:0,class:"questions-section overflow-hidden"},J={__name:"QuizContainer",setup(P){const{locale:v}=A(),_=k(),{currentQuestionIndex:t,questions:r}=y(_),u=m(!1),i=m(!1),f=e=>{if(!e)return;const o=r.value[t.value],n=o.type==="multiple";if(n&&e.length===1){i.value=!0;return}else i.value=!1;const c=n?JSON.stringify(e.sort())===JSON.stringify(v.value==="en-US"?o.correctAnswersEn.sort():o.correctAnswersAr.sort()):e===(v.value==="en-US"?o.correctAnswersEn[0]:o.correctAnswersAr[0]);Q(o,e,c)},Q=(e,o,n)=>{e.answer=n?o:null,e.submitted=!0,e.isCorrect=n},h=()=>{t.value>0&&t.value--},x=()=>{t.value<r.value.length-1?t.value++:u.value=!0},C=()=>{u.value=!0},w=I(()=>r.value.filter(e=>e.answer!==null&&e.isCorrect===!0).length);return(e,o)=>{const n=a("ProgressBar"),c=a("QuizItem"),g=a("QuizComplete"),z=S("motion");return l(),d("div",U,[b("h1",D,N(e.$t("quiz")),1),p(n,{currentQuestionIndex:s(t),totalQuestions:s(r).length,isCompleted:u.value,onTimeUp:C},null,8,["currentQuestionIndex","totalQuestions","isCompleted"]),u.value?(l(),B(g,{key:1,score:w.value,total:s(r).length},null,8,["score","total"])):(l(),d("div",E,[q(p(c,{initial:{opacity:0,x:1e3},enter:{opacity:1,x:0},duration:1200,question:s(r)[s(t)],submitted:s(r)[s(t)].submitted,isCorrect:s(r)[s(t)].isCorrect,error:i.value,currentQuestionIndex:s(t),onCheckAnswer:f,onPrevQuestion:h,onNextQuestion:x},null,8,["question","submitted","isCorrect","error","currentQuestionIndex"]),[[z]])]))])}}};export{J as default};
